{
  "version": 3,
  "sources": ["main.ts"],
  "sourcesContent": ["import {\r\n\tApp,\r\n\tPlugin,\r\n\tPluginSettingTab,\r\n\tSetting,\r\n\tTFile,\r\n\tVault,\r\n\tTAbstractFile,\r\n\tNotice,\r\n\tMarkdownView\r\n} from \"obsidian\";\r\n\r\ninterface WebhookOnSaveSettings {\r\n\twebhookUrl: string;\r\n\tenabled: boolean;\r\n\tshowNotices: boolean;\r\n\tautoMode: boolean;\r\n\tsendOnFileOpen: boolean;\r\n\tsendOnLeafChange: boolean;\r\n}\r\n\r\nconst DEFAULT_SETTINGS: WebhookOnSaveSettings = {\r\n\twebhookUrl: \"\",\r\n\tenabled: true,\r\n\tshowNotices: false,\r\n\tautoMode: true,\r\n\tsendOnFileOpen: false,\r\n\tsendOnLeafChange: false\r\n};\r\n\r\ntype VaultEventType = \"modify\" | \"create\" | \"delete\" | \"rename\";\r\ntype HookEventType = VaultEventType | \"file-open\" | \"leaf-change\";\r\n\r\ninterface BasePayload {\r\n\tevent: HookEventType;\r\n\tvaultName: string;\r\n\ttimestamp: string;\r\n}\r\n\r\ninterface FilePayload extends BasePayload {\r\n\tpath: string;\r\n\tname: string;\r\n\textension: string | null;\r\n\tsize: number | null;\r\n}\r\n\r\ninterface RenamePayload extends BasePayload {\r\n\toldPath: string;\r\n\tnewPath: string;\r\n\toldName: string;\r\n\tnewName: string;\r\n}\r\n\r\nexport default class WebhookOnSavePlugin extends Plugin {\r\n\tsettings!: WebhookOnSaveSettings;\r\n\tribbonIconEl?: HTMLElement;\r\n\r\n\tprivate onModifyRef?: (file: TAbstractFile) => void;\r\n\tprivate onCreateRef?: (file: TAbstractFile) => void;\r\n\tprivate onDeleteRef?: (file: TAbstractFile) => void;\r\n\tprivate onRenameRef?: (file: TAbstractFile, oldPath: string) => void;\r\n\r\n\tasync onload() {\r\n\t\tawait this.loadSettings();\r\n\t\tthis.addSettingTab(new WebhookOnSaveSettingTab(this.app, this));\r\n\r\n\t\tthis.registerVaultEvents();\r\n\t\tthis.registerWorkspaceEvents();\r\n\r\n\t\tthis.addCommand({\r\n\t\t\tid: \"send-webhook-on-save-now\",\r\n\t\t\tname: \"Send webhook for the active note\",\r\n\t\t\tcheckCallback: (checking) => {\r\n\t\t\t\tif (!this.canUseManualControls()) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!checking) {\r\n\t\t\t\t\tthis.triggerManualWebhook();\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.refreshManualControls();\r\n\r\n\t\tthis.addCommand({\r\n\t\t\tid: \"toggle-webhook-on-save\",\r\n\t\t\tname: \"Toggle webhook sending\",\r\n\t\t\tcallback: () => {\r\n\t\t\t\tthis.settings.enabled = !this.settings.enabled;\r\n\t\t\t\tthis.saveSettings();\r\n\t\t\t\tif (this.settings.showNotices) {\r\n\t\t\t\t\tnew Notice(\r\n\t\t\t\t\t\t`Simple Webhook ${this.settings.enabled ? \"enabled\" : \"disabled\"}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonunload() {\r\n\t\tif (this.ribbonIconEl) {\r\n\t\t\tthis.ribbonIconEl.remove();\r\n\t\t\tthis.ribbonIconEl = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate registerVaultEvents() {\r\n\t\tconst vault: Vault = this.app.vault;\r\n\r\n\t\tthis.onModifyRef = (file) => this.handleFileEvent(\"modify\", file);\r\n\t\tthis.onCreateRef = (file) => this.handleFileEvent(\"create\", file);\r\n\t\tthis.onDeleteRef = (file) => this.handleFileEvent(\"delete\", file);\r\n\t\tthis.onRenameRef = (file, oldPath) => this.handleRenameEvent(file, oldPath);\r\n\r\n\t\tthis.registerEvent(vault.on(\"modify\", this.onModifyRef));\r\n\t\tthis.registerEvent(vault.on(\"create\", this.onCreateRef));\r\n\t\tthis.registerEvent(vault.on(\"delete\", this.onDeleteRef));\r\n\t\tthis.registerEvent(vault.on(\"rename\", this.onRenameRef));\r\n\t}\r\n\r\n\tprivate async handleFileEvent(event: VaultEventType, file: TAbstractFile) {\r\n\t\tif (!this.shouldSend()) return;\r\n\r\n\t\tif (!(file instanceof TFile)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst payload: FilePayload = {\r\n\t\t\tevent,\r\n\t\t\tvaultName: this.app.vault.getName(),\r\n\t\t\ttimestamp: new Date().toISOString(),\r\n\t\t\tpath: file.path,\r\n\t\t\tname: file.name,\r\n\t\t\textension: file.extension ?? null,\r\n\t\t\tsize: await this.getFileSizeSafe(file)\r\n\t\t};\r\n\r\n\t\tthis.sendWebhook(payload);\r\n\t}\r\n\r\n\tprivate handleRenameEvent(file: TAbstractFile, oldPath: string) {\r\n\t\tif (!this.shouldSend()) return;\r\n\t\tif (!(file instanceof TFile)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst payload: RenamePayload = {\r\n\t\t\tevent: \"rename\",\r\n\t\t\tvaultName: this.app.vault.getName(),\r\n\t\t\ttimestamp: new Date().toISOString(),\r\n\t\t\toldPath,\r\n\t\t\tnewPath: file.path,\r\n\t\t\toldName: this.getNameFromPath(oldPath),\r\n\t\t\tnewName: file.name\r\n\t\t};\r\n\r\n\t\tthis.sendWebhook(payload);\r\n\t}\r\n\r\n\tprivate registerWorkspaceEvents() {\r\n\t\tthis.registerEvent(\r\n\t\t\tthis.app.workspace.on(\"file-open\", (file) => {\r\n\t\t\t\tif (!this.settings.sendOnFileOpen || !file) return;\r\n\t\t\t\tthis.handleWorkspaceFileTrigger(\"file-open\", file);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.registerEvent(\r\n\t\t\tthis.app.workspace.on(\"active-leaf-change\", (leaf) => {\r\n\t\t\t\tif (!this.settings.sendOnLeafChange) return;\r\n\t\t\t\tconst view = leaf?.view;\r\n\t\t\t\tconst maybeMarkdown = view as MarkdownView | undefined;\r\n\t\t\t\tconst file = maybeMarkdown?.file;\r\n\t\t\t\tif (!file) return;\r\n\t\t\t\tthis.handleWorkspaceFileTrigger(\"leaf-change\", file);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tprivate async handleWorkspaceFileTrigger(label: HookEventType, file: TFile) {\r\n\t\tif (!this.settings.enabled) return;\r\n\t\tif (!this.settings.webhookUrl || this.settings.webhookUrl.trim() === \"\") {\r\n\t\t\tif (this.settings.showNotices) {\r\n\t\t\t\tnew Notice(\"Simple Webhook: webhook URL not configured.\");\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst payload: FilePayload = {\r\n\t\t\tevent: label,\r\n\t\t\tvaultName: this.app.vault.getName(),\r\n\t\t\ttimestamp: new Date().toISOString(),\r\n\t\t\tpath: file.path,\r\n\t\t\tname: file.name,\r\n\t\t\textension: file.extension ?? null,\r\n\t\t\tsize: await this.getFileSizeSafe(file)\r\n\t\t};\r\n\r\n\t\tthis.sendWebhook(payload);\r\n\t}\r\n\r\n\tprivate shouldSend(manual = false): boolean {\r\n\t\tif (!this.settings.enabled) return false;\r\n\t\tif (!manual && !this.settings.autoMode) return false;\r\n\t\tif (!this.settings.webhookUrl || this.settings.webhookUrl.trim() === \"\") {\r\n\t\t\tif (this.settings.showNotices) {\r\n\t\t\t\tnew Notice(\"Simple Webhook: webhook URL not configured.\");\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate async getFileSizeSafe(file: TFile): Promise<number | null> {\r\n\t\ttry {\r\n\t\t\tconst stat = await this.app.vault.adapter.stat(file.path);\r\n\t\t\treturn stat?.size ?? null;\r\n\t\t} catch {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getNameFromPath(path: string): string {\r\n\t\tconst parts = path.split(\"/\");\r\n\t\treturn parts[parts.length - 1] ?? path;\r\n\t}\r\n\r\n\tprivate async sendWebhook(body: unknown): Promise<void> {\r\n\t\tconst url = this.settings.webhookUrl.trim();\r\n\t\tif (!url) return;\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(body)\r\n\t\t\t});\r\n\r\n\t\t\tif (!response.ok && this.settings.showNotices) {\r\n\t\t\t\tnew Notice(\r\n\t\t\t\t\t`Simple Webhook: HTTP ${response.status} ${response.statusText}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (this.settings.showNotices) {\r\n\t\t\t\tconsole.error(\"Simple Webhook error:\", error);\r\n\t\t\t\tnew Notice(\"Simple Webhook: request failed (see console).\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync loadSettings() {\r\n\t\tthis.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());\r\n\t}\r\n\r\n\tasync saveSettings() {\r\n\t\tawait this.saveData(this.settings);\r\n\t}\r\n\r\n\tprivate async triggerManualWebhook() {\r\n\t\tconst file = this.app.workspace.getActiveFile();\r\n\t\tif (!file) {\r\n\t\t\tnew Notice(\"Simple Webhook: no active note.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!this.shouldSend(true)) return;\r\n\r\n\t\tconst payload: FilePayload = {\r\n\t\t\tevent: \"modify\",\r\n\t\t\tvaultName: this.app.vault.getName(),\r\n\t\t\ttimestamp: new Date().toISOString(),\r\n\t\t\tpath: file.path,\r\n\t\t\tname: file.name,\r\n\t\t\textension: file.extension ?? null,\r\n\t\t\tsize: await this.getFileSizeSafe(file)\r\n\t\t};\r\n\r\n\t\tawait this.sendWebhook(payload);\r\n\t\tnew Notice(\"Simple Webhook: webhook sent for the active note.\");\r\n\t}\r\n\r\n\tprivate canUseManualControls(): boolean {\r\n\t\treturn this.settings.enabled && !this.settings.autoMode;\r\n\t}\r\n\r\n\trefreshManualControls() {\r\n\t\tif (this.canUseManualControls()) {\r\n\t\t\tif (!this.ribbonIconEl) {\r\n\t\t\t\tthis.ribbonIconEl = this.addRibbonIcon(\r\n\t\t\t\t\t\"paper-plane\",\r\n\t\t\t\t\t\"Send webhook for the active note\",\r\n\t\t\t\t\t() => this.triggerManualWebhook()\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else if (this.ribbonIconEl) {\r\n\t\t\tthis.ribbonIconEl.remove();\r\n\t\t\tthis.ribbonIconEl = undefined;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass WebhookOnSaveSettingTab extends PluginSettingTab {\r\n\tplugin: WebhookOnSavePlugin;\r\n\r\n\tconstructor(app: App, plugin: WebhookOnSavePlugin) {\r\n\t\tsuper(app, plugin);\r\n\t\tthis.plugin = plugin;\r\n\t}\r\n\r\n\tdisplay(): void {\r\n\t\tconst { containerEl } = this;\r\n\r\n\t\tcontainerEl.empty();\r\n\t\tcontainerEl.createEl(\"h2\", { text: \"Simple Webhook \u2013 Settings\" });\r\n\r\n\t\tnew Setting(containerEl)\r\n\t\t\t.setName(\"Webhook URL\")\r\n\t\t\t.setDesc(\r\n\t\t\t\t\"HTTP endpoint that will receive JSON payloads when files change.\"\r\n\t\t\t)\r\n\t\t\t.addText((text) =>\r\n\t\t\t\ttext\r\n\t\t\t\t\t.setPlaceholder(\"https://example.com/webhook\")\r\n\t\t\t\t\t.setValue(this.plugin.settings.webhookUrl)\r\n\t\t\t\t\t.onChange(async (value) => {\r\n\t\t\t\t\t\tthis.plugin.settings.webhookUrl = value.trim();\r\n\t\t\t\t\t\tawait this.plugin.saveSettings();\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\tnew Setting(containerEl)\r\n\t\t\t.setName(\"Send a test webhook\")\r\n\t\t\t.setDesc(\r\n\t\t\t\t\"Immediately send a minimal payload to verify your endpoint.\"\r\n\t\t\t)\r\n\t\t\t.addButton((button) =>\r\n\t\t\t\tbutton\r\n\t\t\t\t\t.setButtonText(\"Send test\")\r\n\t\t\t\t\t.setCta()\r\n\t\t\t\t\t.onClick(async () => {\r\n\t\t\t\t\t\tconst url = this.plugin.settings.webhookUrl.trim();\r\n\t\t\t\t\t\tif (!url) {\r\n\t\t\t\t\t\t\tnew Notice(\"Simple Webhook: configure the webhook URL first.\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst body = {\r\n\t\t\t\t\t\t\t_event: \"test\",\r\n\t\t\t\t\t\t\tmessage: \"Simple Webhook test payload\",\r\n\t\t\t\t\t\t\tvaultName: this.app.vault.getName(),\r\n\t\t\t\t\t\t\ttimestamp: new Date().toISOString()\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst res = await fetch(url, {\r\n\t\t\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\t\t\t\t\tbody: JSON.stringify(body)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (res.ok) {\r\n\t\t\t\t\t\t\t\tnew Notice(\"Simple Webhook: test webhook sent.\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnew Notice(\r\n\t\t\t\t\t\t\t\t\t`Simple Webhook: test failed (HTTP ${res.status}).`\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.error(\"Simple Webhook test error\", e);\r\n\t\t\t\t\t\t\tnew Notice(\"Simple Webhook: unable to send the test webhook.\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\tnew Setting(containerEl)\r\n\t\t\t.setName(\"Vault event webhooks\")\r\n\t\t\t.setDesc(\r\n\t\t\t\t\"Automatically send webhooks when files are created, modified, deleted, or renamed. Turn it off to rely on manual or workspace triggers only.\"\r\n\t\t\t)\r\n\t\t\t.addToggle((toggle) =>\r\n\t\t\t\ttoggle\r\n\t\t\t\t\t.setValue(this.plugin.settings.autoMode)\r\n\t\t\t\t\t.onChange(async (value) => {\r\n\t\t\t\t\t\tthis.plugin.settings.autoMode = value;\r\n\t\t\t\t\t\tawait this.plugin.saveSettings();\r\n\t\t\t\t\t\tthis.plugin.refreshManualControls();\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\tnew Setting(containerEl)\r\n\t\t\t.setName(\"Send on file change\")\r\n\t\t\t.setDesc(\"Fire a webhook whenever a different note becomes active (workspace file-open event).\")\r\n\t\t\t.addToggle((toggle) =>\r\n\t\t\t\ttoggle\r\n\t\t\t\t\t.setValue(this.plugin.settings.sendOnFileOpen)\r\n\t\t\t\t\t.onChange(async (value) => {\r\n\t\t\t\t\t\tthis.plugin.settings.sendOnFileOpen = value;\r\n\t\t\t\t\t\tawait this.plugin.saveSettings();\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\tnew Setting(containerEl)\r\n\t\t\t.setName(\"Send on pane change\")\r\n\t\t\t.setDesc(\"Fire a webhook whenever the focused pane changes (workspace active-leaf-change event).\")\r\n\t\t\t.addToggle((toggle) =>\r\n\t\t\t\ttoggle\r\n\t\t\t\t\t.setValue(this.plugin.settings.sendOnLeafChange)\r\n\t\t\t\t\t.onChange(async (value) => {\r\n\t\t\t\t\t\tthis.plugin.settings.sendOnLeafChange = value;\r\n\t\t\t\t\t\tawait this.plugin.saveSettings();\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\tnew Setting(containerEl)\r\n\t\t\t.setName(\"Show notices\")\r\n\t\t\t.setDesc(\r\n\t\t\t\t\"Show Obsidian notices for errors and state changes. Recommended to keep disabled for a quiet experience.\"\r\n\t\t\t)\r\n\t\t\t.addToggle((toggle) =>\r\n\t\t\t\ttoggle\r\n\t\t\t\t\t.setValue(this.plugin.settings.showNotices)\r\n\t\t\t\t\t.onChange(async (value) => {\r\n\t\t\t\t\t\tthis.plugin.settings.showNotices = value;\r\n\t\t\t\t\t\tawait this.plugin.saveSettings();\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\tconst preview = containerEl.createEl(\"pre\", {\r\n\t\t\tcls: \"webhook-on-save-json-preview\"\r\n\t\t});\r\n\t\tpreview.textContent = JSON.stringify(\r\n\t\t\t{\r\n\t\t\t\tevent: \"modify\",\r\n\t\t\t\tvaultName: \"My Vault\",\r\n\t\t\t\ttimestamp: new Date().toISOString(),\r\n\t\t\t\tpath: \"folder/note.md\",\r\n\t\t\t\tname: \"note.md\",\r\n\t\t\t\textension: \"md\",\r\n\t\t\t\tsize: 1234\r\n\t\t\t},\r\n\t\t\tnull,\r\n\t\t\t2\r\n\t\t);\r\n\t}\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
